{
  "name": "ChatBot",
  "nodes": [
    {
      "parameters": {
        "public": true,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [
        0,
        0
      ],
      "id": "776fee9e-07f0-4eba-9179-90908d192160",
      "name": "When chat message received",
      "webhookId": "59adc9aa-c41d-4904-9568-20d12ec1a424"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "Eres un agente de inteligencia artificial especializado en ventas de servicios de desarrollo web. \nTienes acceso a información de un documento de Google Drive que contiene detalles del negocio, su oferta de servicios, casos de éxito, tecnologías usadas y beneficios para los clientes. \nEsta información ha sido indexada en Pinecone y debes utilizarla como fuente principal para responder.\n\nTu misión:\n1. Responder siempre de forma clara, amigable y positiva.\n2. Transmitir entusiasmo y confianza en la calidad de nuestros servicios.\n3. Mostrar interés genuino por ayudar al cliente a resolver sus necesidades con nuestras soluciones.\n4. Guiar la conversación hacia la posibilidad de concretar una reunión o cotización.\n5. No inventes datos: si no encuentras algo en la información disponible, indica que puedes consultarlo internamente.\n\nReglas de estilo:\n- Usa un tono cercano y conversacional.\n- Incluye ejemplos o analogías simples si ayudan a explicar.\n- Evita respuestas frías o demasiado técnicas, a menos que el usuario lo solicite.\n- Cierra cada respuesta con una invitación a seguir conversando o dar un próximo paso.\n\nContexto disponible: {context} \nPregunta del usuario: {question}\nRespuesta:\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2,
      "position": [
        220,
        0
      ],
      "id": "e5704223-28a6-4af6-a1c9-9a544b351303",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4.1-nano",
          "mode": "list",
          "cachedResultName": "gpt-4.1-nano"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        140,
        200
      ],
      "id": "c744fe9d-3307-44f5-a0a7-1cc1de15a544",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "pymyluWuuY2UhlrH",
          "name": "OpenAi account 2"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        260,
        300
      ],
      "id": "2af2795e-526e-4ed7-9e7b-972f8aeaade8",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "mode": "retrieve-as-tool",
        "toolName": "bases_datos",
        "toolDescription": "=Trae información acerca de los productos que ofrece la empresa",
        "pineconeIndex": {
          "__rl": true,
          "value": "apiragent",
          "mode": "list",
          "cachedResultName": "apiragent"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "typeVersion": 1.2,
      "position": [
        400,
        220
      ],
      "id": "86ac506c-11b3-4665-acc7-16e6637ac16f",
      "name": "Pinecone Vector Store",
      "credentials": {
        "pineconeApi": {
          "id": "iUrkWuCEFViWVGd8",
          "name": "PineconeApi account 2"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "typeVersion": 1.2,
      "position": [
        440,
        420
      ],
      "id": "77626d5a-fb6c-4602-a0b7-213c0efd158e",
      "name": "Embeddings OpenAI",
      "credentials": {
        "openAiApi": {
          "id": "pymyluWuuY2UhlrH",
          "name": "OpenAi account 2"
        }
      }
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "b8d3dcf7-f8fa-490b-a39e-929903f9e8ac",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [
        580,
        189
      ],
      "id": "32b54423-05cc-4089-a946-78717576125a",
      "name": "Webhook",
      "webhookId": "b8d3dcf7-f8fa-490b-a39e-929903f9e8ac"
    }
  ],
  "pinData": {},
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Pinecone Vector Store": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI": {
      "ai_embedding": [
        [
          {
            "node": "Pinecone Vector Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "1ea699de-fca0-4c67-ad43-c381d3e84012",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "b66e99c809e6b1968c0819cfc8f01d5ced3cfa113e590d9f5e4f7adf53318d1c"
  },
  "id": "kNIMkhXT3Qmxj9aU",
  "tags": []
}